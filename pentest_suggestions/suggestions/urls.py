from django.conf import settings
from django.conf.urls.static import static
from django.urls import path, include
from . import views

app_name = 'suggestions'

urlpatterns = [
    path('dashboard/', views.dashboard, name='dashboard'),
    path('', views.home, name='home'),
    path('suggest/', views.suggest_tools, name='suggest_tools'),
    path('login/', views.user_login, name='login'),
    path('register/', views.user_register, name='register'),
    path('logout/', views.user_logout, name='logout'),
    path('nmap/', views.run_nmap, name='run_nmap'),
    path('sqlmap/', views.run_sqlmap, name='run_sqlmap'),
    path('run_gobuster/', views.run_gobuster, name='run_gobuster'),  # Corrected import to views.run_gobuster
    path('history/', views.history, name='history'),  # New path for viewing history
    path('tool_execution_history/', views.tool_execution_history, name='tool_execution_history'), # Path for tool execution history
    path('delete/<int:history_id>/', views.delete_history, name='delete_history'),
    path('delete_execution_history/<int:history_id>/', views.delete_execution_history, name='delete_execution_history'), # Path for deleting tool execution history 
    path('submit_feedback/', views.submit_feedback, name='submit_feedback'),
    path('upload_and_train/', views.upload_and_train, name='upload_and_train'),

] 
if settings.DEBUG:
    urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
